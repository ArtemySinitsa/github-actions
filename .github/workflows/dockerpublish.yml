name: TESTSTTS

on: push

env:
  SLACK_CHANNEL: CGLFL82EN
  SLACK_BOT_TOKEN: ${{secrets.SLACK_BOT_TOKEN}}
  APP: https://app.boweryvaluation.com
jobs:
  slack-notify:
    name: SN
    runs-on: ubuntu-latest
    outputs:
      thread: ${{ steps.slack.outputs.thread_ts }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Post to an initial message to Slack channel
        id: slack
        uses: slackapi/slack-github-action@v1.19.0
        with:
          channel-id: ${{ env.SLACK_CHANNEL }}
          payload-file-path: .github/release-template.json

  slack-wow:
    name: WOW
    runs-on: ubuntu-latest
    steps:
      - run: echo "Hollo world"


  slack:
    if: ${{ always() }} # ensure this job always runs
    needs: [ slack-notify, slack-wow ] 
    runs-on: ubuntu-latest
    steps:
      - uses: ArtemySinitsa/action-slack-workflow-notifications@master
        with:
          channel-id:  ${{ env.SLACK_CHANNEL }}
          ignore-steps: actions/checkout@v3
          ignore-jobs: slack
          thread-ts: "${{ needs. slack-notify.outputs.thread }}"
